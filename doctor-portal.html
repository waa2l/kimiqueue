<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø¨Ø§Ø¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'arabic': ['Cairo', 'sans-serif']
                    },
                    colors: {
                        'primary': '#1e40af',
                        'secondary': '#3b82f6',
                        'accent': '#60a5fa',
                        'success': '#10b981',
                        'warning': '#f59e0b',
                        'danger': '#ef4444'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-left: 8px;
        }
        .status-pending { background-color: #f59e0b; }
        .status-approved { background-color: #10b981; }
        .status-rejected { background-color: #ef4444; }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body class="bg-gray-50 font-arabic">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-2xl font-bold text-primary">ğŸ¥ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø¨Ø§Ø¨</h1>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4 space-x-reverse">
                        <a href="index.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                        <a href="admin.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a>
                        <a href="display.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Ø§Ù„Ø¹Ø±Ø¶</a>
                        <a href="control.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Ø§Ù„ØªØ­ÙƒÙ…</a>
                        <a href="client.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Ø§Ù„Ø¹Ù…ÙŠÙ„</a>
                        <a href="about.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Ø¹Ù† Ø§Ù„Ù†Ø¸Ø§Ù…</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡</h2>
                <p class="text-gray-600">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡</p>
            </div>
            <form id="doctor-login-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="doctor-email" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="doctor-password" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                </div>
                <button type="submit" class="w-full bg-primary text-white py-2 rounded-lg hover:bg-secondary transition-colors">
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
            </form>
        </div>
    </div>

    <!-- Main Portal -->
    <div id="doctor-portal" class="hidden">
        <!-- Header -->
        <div class="bg-white shadow">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-6">
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white text-xl">
                            <i class="fas fa-user-md"></i>
                        </div>
                        <div>
                            <h1 id="doctor-name" class="text-2xl font-bold text-gray-900">Ø¯. Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</h1>
                            <p id="doctor-specialty" class="text-gray-600">Ø·Ø¨ÙŠØ¨ Ø£Ø³Ø±Ø© - Ø¹ÙŠØ§Ø¯Ø© Ø·Ø¨ Ø§Ù„Ø£Ø³Ø±Ø©</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-success" id="attendance-status">Ø­Ø§Ø¶Ø±</div>
                            <div class="text-sm text-gray-600">Ø§Ù„Ø­Ø§Ù„Ø©</div>
                        </div>
                        <button onclick="logoutDoctor()" class="bg-danger text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
                            <i class="fas fa-sign-out-alt ml-2"></i>Ø®Ø±ÙˆØ¬
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Main Panel -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Today's Schedule -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold">Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…</h2>
                            <div class="flex space-x-2 space-x-reverse">
                                <button onclick="checkIn()" class="bg-success text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                                    <i class="fas fa-clock ml-2"></i>ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±
                                </button>
                                <button onclick="checkOut()" class="bg-warning text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors">
                                    <i class="fas fa-sign-out-alt ml-2"></i>ØªØ³Ø¬ÙŠÙ„ Ø§Ù†ØµØ±Ø§Ù
                                </button>
                            </div>
                        </div>
                        <div class="space-y-3" id="today-schedule">
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div>
                                    <div class="font-medium">ÙØ§Ø·Ù…Ø© Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</div>
                                    <div class="text-sm text-gray-600">Ù…ÙˆØ¹Ø¯ Ø±ÙˆØªÙŠÙ†ÙŠ - ÙØ­Øµ Ø¯ÙˆØ±ÙŠ</div>
                                </div>
                                <div class="text-sm text-primary font-semibold">09:00 Øµ</div>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div>
                                    <div class="font-medium">Ø®Ø§Ù„Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡</div>
                                    <div class="text-sm text-gray-600">Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù„Ø§Ø¬</div>
                                </div>
                                <div class="text-sm text-primary font-semibold">09:30 Øµ</div>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div>
                                    <div class="font-medium">Ù„ÙŠÙ„Ù‰ Ù…Ø­Ù…ÙˆØ¯</div>
                                    <div class="text-sm text-gray-600">Ø§Ø³ØªØ´Ø§Ø±Ø© Ø·Ø¨ÙŠØ©</div>
                                </div>
                                <div class="text-sm text-primary font-semibold">10:00 Øµ</div>
                            </div>
                        </div>
                    </div>

                    <!-- Consultations -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold">Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ§Ø±Ø¯Ø©</h2>
                            <span class="bg-danger text-white px-2 py-1 rounded text-sm">3 Ø¬Ø¯ÙŠØ¯Ø©</span>
                        </div>
                        <div class="space-y-4" id="consultations-list">
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-start mb-3">
                                    <div>
                                        <h3 class="font-semibold">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡</h3>
                                        <p class="text-sm text-gray-600">Ø§Ø³ØªØ´Ø§Ø±Ø© Ø·Ø¨ÙŠØ© Ø¹Ø§Ù…Ø©</p>
                                    </div>
                                    <span class="text-xs text-gray-500">Ù…Ù†Ø° 2 Ø³Ø§Ø¹Ø©</span>
                                </div>
                                <p class="text-sm text-gray-700 mb-3">Ø£Ø¹Ø§Ù†ÙŠ Ù…Ù† ØµØ¯Ø§Ø¹ Ù…Ø³ØªÙ…Ø± Ù…Ù†Ø° Ø£Ø³Ø¨ÙˆØ¹ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„Ø¯ÙˆØ§Ø±ØŒ Ù‡Ù„ Ù…Ù† Ø§Ù„Ù…Ù…ÙƒÙ† Ø£Ù† Ø£Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ø³ØªØ´Ø§Ø±Ø© Ø·Ø¨ÙŠØ©ØŸ</p>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button onclick="viewConsultation(1)" class="bg-primary text-white px-3 py-1 rounded text-sm hover:bg-secondary transition-colors">
                                        <i class="fas fa-eye ml-1"></i>Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                                    </button>
                                    <button onclick="replyConsultation(1)" class="bg-success text-white px-3 py-1 rounded text-sm hover:bg-green-600 transition-colors">
                                        <i class="fas fa-reply ml-1"></i>Ø§Ù„Ø±Ø¯
                                    </button>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-start mb-3">
                                    <div>
                                        <h3 class="font-semibold">ÙØ§Ø·Ù…Ø© Ø¹Ù„ÙŠ Ø­Ø³Ù†</h3>
                                        <p class="text-sm text-gray-600">Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù„Ø§Ø¬</p>
                                    </div>
                                    <span class="text-xs text-gray-500">Ù…Ù†Ø° 4 Ø³Ø§Ø¹Ø§Øª</span>
                                </div>
                                <p class="text-sm text-gray-700 mb-3">Ø£Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ø¹ Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©ØŒ Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙˆØ¹Ø¯ Ù‚Ø±ÙŠØ¨ØŸ</p>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button onclick="viewConsultation(2)" class="bg-primary text-white px-3 py-1 rounded text-sm hover:bg-secondary transition-colors">
                                        <i class="fas fa-eye ml-1"></i>Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                                    </button>
                                    <button onclick="replyConsultation(2)" class="bg-success text-white px-3 py-1 rounded text-sm hover:bg-green-600 transition-colors">
                                        <i class="fas fa-reply ml-1"></i>Ø§Ù„Ø±Ø¯
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Leave Requests -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©</h2>
                            <button onclick="openLeaveRequestModal()" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-secondary transition-colors">
                                <i class="fas fa-plus ml-2"></i>Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
                            </button>
                        </div>
                        <div class="space-y-3" id="leave-requests">
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div>
                                    <div class="font-medium">Ø¥Ø¬Ø§Ø²Ø© Ù…Ø±Ø¶ÙŠØ©</div>
                                    <div class="text-sm text-gray-600">Ù…Ù† 2025-12-10 Ø¥Ù„Ù‰ 2025-12-12</div>
                                </div>
                                <div class="flex items-center">
                                    <span class="status-indicator status-approved"></span>
                                    <span class="text-sm font-medium text-success">Ù…Ø¹ØªÙ…Ø¯</span>
                                </div>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div>
                                    <div class="font-medium">Ø¥Ø¬Ø§Ø²Ø© Ø§Ø¹ØªÙŠØ§Ø¯ÙŠØ©</div>
                                    <div class="text-sm text-gray-600">Ù…Ù† 2025-12-15 Ø¥Ù„Ù‰ 2025-12-17</div>
                                </div>
                                <div class="flex items-center">
                                    <span class="status-indicator status-pending"></span>
                                    <span class="text-sm font-medium text-warning">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="space-y-6">
                    <!-- Doctor Profile -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="text-center mb-4">
                            <div class="w-20 h-20 bg-primary rounded-full flex items-center justify-center text-white text-3xl mx-auto mb-3">
                                <i class="fas fa-user-md"></i>
                            </div>
                            <h3 class="font-semibold">Ø¯. Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</h3>
                            <p class="text-sm text-gray-600">Ø·Ø¨ÙŠØ¨ Ø£Ø³Ø±Ø©</p>
                        </div>
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Ø±Ù‚Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨</span>
                                <span class="font-medium">001</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©</span>
                                <span class="font-medium">Ø·Ø¨ Ø§Ù„Ø£Ø³Ø±Ø©</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Ø§Ù„Ø´ÙŠÙØª</span>
                                <span class="font-medium">ØµØ¨Ø§Ø­ÙŠ</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Ø±ØµÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª</span>
                                <span class="font-medium text-success">12 ÙŠÙˆÙ…</span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold mb-4">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ†</span>
                                <span class="font-semibold text-primary">12</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©</span>
                                <span class="font-semibold text-warning">8</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª</span>
                                <span class="font-semibold text-success">5</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</span>
                                <span class="font-semibold text-secondary">6 Ø³Ø§Ø¹Ø§Øª</span>
                            </div>
                        </div>
                    </div>

                    <!-- Attendance History -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold mb-4">Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¶ÙˆØ±</h3>
                        <div class="space-y-2">
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-600">Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…</span>
                                <span class="font-medium">08:30 Øµ</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-600">Ø¢Ø®Ø± Ø®Ø±ÙˆØ¬</span>
                                <span class="font-medium">--:--</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-600">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>
                                <span class="font-medium text-success">0 Ø³Ø§Ø¹Ø©</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Leave Request Modal -->
    <div id="leave-request-modal" class="modal">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Ø·Ù„Ø¨ Ø¥Ø¬Ø§Ø²Ø© Ø¬Ø¯ÙŠØ¯</h3>
                <button onclick="closeLeaveRequestModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="leave-request-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨</label>
                    <select id="leave-type" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹</option>
                        <option value="annual">Ø¥Ø¬Ø§Ø²Ø© Ø§Ø¹ØªÙŠØ§Ø¯ÙŠØ©</option>
                        <option value="sick">Ø¥Ø¬Ø§Ø²Ø© Ù…Ø±Ø¶ÙŠØ©</option>
                        <option value="emergency">Ø¥Ø¬Ø§Ø²Ø© Ø¹Ø§Ø±Ø¶Ø©</option>
                        <option value="compensation">Ø¨Ø¯Ù„ Ø±Ø§Ø­Ø©</option>
                        <option value="mission">Ù…Ø£Ù…ÙˆØ±ÙŠØ©</option>
                        <option value="training">Ù…Ø£Ù…ÙˆØ±ÙŠØ© ØªØ¯Ø±ÙŠØ¨</option>
                    </select>
                </div>
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2">Ù…Ù† ØªØ§Ø±ÙŠØ®</label>
                        <input type="date" id="leave-start" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2">Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®</label>
                        <input type="date" id="leave-end" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ù„Ù‚Ø§Ø¦Ù… Ø¨Ø§Ù„Ø¹Ù…Ù„</label>
                    <input type="text" id="replacement-doctor" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ø¨Ø¯ÙŠÙ„" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ù„Ø³Ø¨Ø¨/Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                    <textarea id="leave-notes" rows="3" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¨Ø¨ Ø§Ù„Ø·Ù„Ø¨..." class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary"></textarea>
                </div>
                <div class="flex space-x-3 space-x-reverse">
                    <button type="submit" class="flex-1 bg-primary text-white py-2 rounded-lg hover:bg-secondary transition-colors">
                        <i class="fas fa-paper-plane ml-2"></i>Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
                    </button>
                    <button type="button" onclick="closeLeaveRequestModal()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample doctor data
        const doctorData = {
            id: 1,
            name: 'Ø¯. Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',
            specialty: 'Ø·Ø¨ÙŠØ¨ Ø£Ø³Ø±Ø©',
            clinic: 'Ø¹ÙŠØ§Ø¯Ø© Ø·Ø¨ Ø§Ù„Ø£Ø³Ø±Ø©',
            email: 'dr.ahmed@clinic.com',
            phone: '0501234567',
            nationalId: '12345678901234'
        };

        // Authentication
        document.getElementById('doctor-login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('doctor-email').value;
            const password = document.getElementById('doctor-password').value;
            
            // Simple authentication (in real app, this would be server-side)
            if (email === 'doctor@clinic.com' && password === 'doctor123') {
                localStorage.setItem('doctorLoggedIn', 'true');
                initializeDoctorPortal();
            } else {
                alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        });

        function initializeDoctorPortal() {
            document.getElementById('login-modal').classList.remove('show');
            document.getElementById('doctor-portal').classList.remove('hidden');
            
            // Load doctor data
            document.getElementById('doctor-name').textContent = doctorData.name;
            document.getElementById('doctor-specialty').textContent = `${doctorData.specialty} - ${doctorData.clinic}`;
            
            startRealTimeUpdates();
        }

        function logoutDoctor() {
            localStorage.removeItem('doctorLoggedIn');
            location.reload();
        }

        function checkAuth() {
            const loggedIn = localStorage.getItem('doctorLoggedIn');
            if (loggedIn) {
                initializeDoctorPortal();
            } else {
                document.getElementById('login-modal').classList.add('show');
            }
        }

        // Attendance functions
        function checkIn() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ar-EG', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true
            });
            
            alert(`ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ ${timeString}`);
            document.getElementById('attendance-status').textContent = 'Ø­Ø§Ø¶Ø±';
            document.getElementById('attendance-status').className = 'text-2xl font-bold text-success';
        }

        function checkOut() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ar-EG', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true
            });
            
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ù†ØµØ±Ø§ÙØŸ')) {
                alert(`ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ù†ØµØ±Ø§Ù ÙÙŠ ${timeString}`);
                document.getElementById('attendance-status').textContent = 'Ù…Ù†ØµØ±Ù';
                document.getElementById('attendance-status').className = 'text-2xl font-bold text-warning';
            }
        }

        // Consultation functions
        function viewConsultation(id) {
            alert(`Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø© ${id} Ù‚Ø±ÙŠØ¨Ø§Ù‹`);
        }

        function replyConsultation(id) {
            const reply = prompt('Ø§ÙƒØªØ¨ Ø±Ø¯Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø©:');
            if (reply) {
                alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');
                // Remove the consultation from the list
                event.target.closest('.border').style.display = 'none';
            }
        }

        // Leave request functions
        function openLeaveRequestModal() {
            document.getElementById('leave-request-modal').classList.add('show');
        }

        function closeLeaveRequestModal() {
            document.getElementById('leave-request-modal').classList.remove('show');
            document.getElementById('leave-request-form').reset();
        }

        document.getElementById('leave-request-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const leaveType = document.getElementById('leave-type').value;
            const startDate = document.getElementById('leave-start').value;
            const endDate = document.getElementById('leave-end').value;
            const replacement = document.getElementById('replacement-doctor').value;
            const notes = document.getElementById('leave-notes').value;
            
            if (!leaveType || !startDate || !endDate) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }
            
            // Add to leave requests list
            const leaveRequestsContainer = document.getElementById('leave-requests');
            const newRequest = document.createElement('div');
            newRequest.className = 'flex justify-between items-center p-3 bg-gray-50 rounded-lg';
            newRequest.innerHTML = `
                <div>
                    <div class="font-medium">${document.getElementById('leave-type').options[document.getElementById('leave-type').selectedIndex].text}</div>
                    <div class="text-sm text-gray-600">Ù…Ù† ${startDate} Ø¥Ù„Ù‰ ${endDate}</div>
                </div>
                <div class="flex items-center">
                    <span class="status-indicator status-pending"></span>
                    <span class="text-sm font-medium text-warning">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</span>
                </div>
            `;
            
            leaveRequestsContainer.insertBefore(newRequest, leaveRequestsContainer.firstChild);
            
            alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø¨Ù†Ø¬Ø§Ø­');
            closeLeaveRequestModal();
        });

        function startRealTimeUpdates() {
            // Simulate real-time updates
            setInterval(() => {
                // Update consultation count
                const consultationsCount = Math.floor(Math.random() * 10) + 3;
                document.querySelector('#consultations-list .border .flex .text-danger').textContent = `${consultationsCount} Ø¬Ø¯ÙŠØ¯Ø©`;
                
                // Update stats
                const patientsSeen = Math.floor(Math.random() * 20) + 10;
                document.querySelector('.text-primary.font-semibold').textContent = patientsSeen;
            }, 30000);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkAuth();
        });
    </script>
</body>
</html>