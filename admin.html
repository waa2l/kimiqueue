<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงูุฅุฏุงุฑุฉ - ูุธุงู ุฅุฏุงุฑุฉ ุงูุทุจุงุจ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <!-- Supabase Client -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="supabaseClient.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'arabic': ['Cairo', 'sans-serif']
                    },
                    colors: {
                        'primary': '#1e40af',
                        'secondary': '#3b82f6',
                        'accent': '#60a5fa',
                        'success': '#10b981',
                        'warning': '#f59e0b',
                        'danger': '#ef4444'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body class="bg-gray-50 font-arabic">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-2xl font-bold text-primary">๐ฅ ูุธุงู ุฅุฏุงุฑุฉ ุงูุทุจุงุจ</h1>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4 space-x-reverse">
                        <a href="index.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">ุงูุฑุฆูุณูุฉ</a>
                        <a href="admin.html" class="text-primary hover:text-secondary px-3 py-2 rounded-md text-sm font-medium transition-colors">ุงูุฅุฏุงุฑุฉ</a>
                        <a href="display.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">ุงูุนุฑุถ</a>
                        <a href="control.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">ุงูุชุญูู</a>
                        <a href="client.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">ุงูุนููู</a>
                        <a href="about.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">ุนู ุงููุธุงู</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900">ุชุณุฌูู ุงูุฏุฎูู - ุงูุฅุฏุงุฑุฉ</h2>
                <p class="text-gray-600">ุฃุฏุฎู ุจูุงูุงุชู ูููุตูู ุฅูู ููุญุฉ ุงูุฅุฏุงุฑุฉ</p>
            </div>
            <form id="login-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="email" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ูููุฉ ุงููุฑูุฑ</label>
                    <input type="password" id="password" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                </div>
                <button type="submit" class="w-full bg-primary text-white py-2 rounded-lg hover:bg-secondary transition-colors">
                    ุชุณุฌูู ุงูุฏุฎูู
                </button>
            </form>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="hidden">
        <!-- Header -->
        <div class="bg-white shadow">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-6">
                    <h1 class="text-3xl font-bold text-gray-900">ููุญุฉ ุงูุฅุฏุงุฑุฉ</h1>
                    <button onclick="logout()" class="bg-danger text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
                        <i class="fas fa-sign-out-alt ml-2"></i>ุชุณุฌูู ุงูุฎุฑูุฌ
                    </button>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6">
            <div class="bg-white rounded-lg shadow">
                <div class="border-b border-gray-200">
                    <nav class="flex space-x-8 space-x-reverse">
                        <button onclick="showTab('general')" class="tab-btn py-4 px-1 border-b-2 border-primary text-primary font-medium text-sm">
                            ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
                        </button>
                        <button onclick="showTab('clinics')" class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium text-sm">
                            ุฅุฏุงุฑุฉ ุงูุนูุงุฏุงุช
                        </button>
                        <button onclick="showTab('announcements')" class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium text-sm">
                            ุฅุนุฏุงุฏุงุช ุงููุฏุงุก
                        </button>
                        <button onclick="showTab('doctors')" class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium text-sm">
                            ุฅุฏุงุฑุฉ ุงูุฃุทุจุงุก
                        </button>
                    </nav>
                </div>

                <!-- Tab Content -->
                <div class="p-6">
                    <!-- General Settings Tab -->
                    <div id="general-tab" class="tab-content">
                        <h2 class="text-2xl font-bold mb-6">ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-gray-700 text-sm font-bold mb-2">ุงุณู ุงููุฑูุฒ</label>
                                <input type="text" id="center-name" value="ุงููุฑูุฒ ุงูุทุจู ุงูุญุฏูุซ" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary">
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-gray-700 text-sm font-bold mb-2">ุนุฏุฏ ุงูุดุงุดุงุช</label>
                                <input type="number" id="screen-count" value="4" min="1" max="10" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary">
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-gray-700 text-sm font-bold mb-2">ูุญุชูู ุงูุดุฑูุท ุงูุฅุฎุจุงุฑู</label>
                                <textarea id="ticker-content" rows="3" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary">ูุฑุญุจุงู ุจูู ูู ุงููุฑูุฒ ุงูุทุจู - ูุณุนู ูุชูุฏูู ุฃูุถู ุฎุฏูุฉ ุทุจูุฉ - ุงูุฑุฌุงุก ุงูุงูุชุธุงุฑ ุจุตุจุฑ</textarea>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-gray-700 text-sm font-bold mb-2">ุณุฑุนุฉ ุงูุดุฑูุท ุงูุฅุฎุจุงุฑู</label>
                                <select id="ticker-speed" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary">
                                    <option value="slow">ุจุทูุฆุฉ</option>
                                    <option value="normal" selected>ุนุงุฏูุฉ</option>
                                    <option value="fast">ุณุฑูุนุฉ</option>
                                </select>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-gray-700 text-sm font-bold mb-2">ูุฏุฉ ุนุฑุถ ุงูุชูุจูู (ุซูุงูู)</label>
                                <input type="number" id="alert-duration" value="5" min="1" max="30" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary">
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-gray-700 text-sm font-bold mb-2">ุณุฑุนุฉ ุงููุทู</label>
                                <select id="speech-speed" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary">
                                    <option value="slow">ุจุทูุฆุฉ</option>
                                    <option value="normal" selected>ุนุงุฏูุฉ</option>
                                    <option value="fast">ุณุฑูุนุฉ</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="saveGeneralSettings()" class="mt-6 bg-primary text-white px-6 py-2 rounded-lg hover:bg-secondary transition-colors">
                            <i class="fas fa-save ml-2"></i>ุญูุธ ุงูุฅุนุฏุงุฏุงุช
                        </button>
                    </div>

                    <!-- Clinics Management Tab -->
                    <div id="clinics-tab" class="tab-content hidden">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold">ุฅุฏุงุฑุฉ ุงูุนูุงุฏุงุช</h2>
                            <button onclick="openClinicModal()" class="bg-success text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                                <i class="fas fa-plus ml-2"></i>ุฅุถุงูุฉ ุนูุงุฏุฉ
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white border rounded-lg">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุงุณู</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุฑูู</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุดุงุดุฉ</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุญุงูุฉ</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุฅุฌุฑุงุกุงุช</th>
                                    </tr>
                                </thead>
                                <tbody id="clinics-table" class="bg-white divide-y divide-gray-200">
                                    <!-- Clinics will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Announcements Settings Tab -->
                    <div id="announcements-tab" class="tab-content hidden">
                        <h2 class="text-2xl font-bold mb-6">ุฅุนุฏุงุฏุงุช ุงููุฏุงุก</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h3 class="text-lg font-semibold mb-4">ุงูุฅุนูุงูุงุช ุงูุตูุชูุฉ</h3>
                                <div class="space-y-3">
                                    <label class="flex items-center">
                                        <input type="checkbox" id="enable-speech" checked class="ml-2">
                                        <span>ุชูุนูู ุงููุทู ุงูุตูุชู</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" id="enable-ding" checked class="ml-2">
                                        <span>ุชุดุบูู ุตูุช ุงูุชูุจูู (ding)</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" id="enable-clinic-sound" checked class="ml-2">
                                        <span>ุชุดุบูู ุตูุช ุงุณู ุงูุนูุงุฏุฉ</span>
                                    </label>
                                </div>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h3 class="text-lg font-semibold mb-4">ุงูุฑุณุงุฆู ุงููุตูุฉ</h3>
                                <div class="space-y-3">
                                    <button onclick="addTextAlert()" class="w-full bg-secondary text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                        <i class="fas fa-plus ml-2"></i>ุฅุถุงูุฉ ุชูุจูู ูุตู
                                    </button>
                                    <button onclick="uploadAudioFile()" class="w-full bg-warning text-white py-2 rounded-lg hover:bg-yellow-600 transition-colors">
                                        <i class="fas fa-upload ml-2"></i>ุฑูุน ููู ุตูุชู
                                    </button>
                                    <button onclick="recordAudio()" class="w-full bg-success text-white py-2 rounded-lg hover:bg-green-600 transition-colors">
                                        <i class="fas fa-microphone ml-2"></i>ุชุณุฌูู ุตูุชู (10 ุซูุงูู)
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Doctors Management Tab -->
                    <div id="doctors-tab" class="tab-content hidden">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold">ุฅุฏุงุฑุฉ ุงูุฃุทุจุงุก</h2>
                            <div class="space-x-3 space-x-reverse">
                                <button onclick="importDoctorsData()" class="bg-secondary text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                    <i class="fas fa-upload ml-2"></i>ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
                                </button>
                                <button onclick="exportDoctorsData()" class="bg-success text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                                    <i class="fas fa-download ml-2"></i>ุชุตุฏูุฑ ุงูุจูุงูุงุช
                                </button>
                            </div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg mb-6">
                            <h3 class="text-lg font-semibold mb-4">ุชูุฑูุฑ ุงูุญุถูุฑ ูุงูุงูุตุฑุงู</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-success">24</div>
                                    <div class="text-sm text-gray-600">ุญุงุถุฑ ุงูููู</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-warning">3</div>
                                    <div class="text-sm text-gray-600">ูู ุฅุฌุงุฒุฉ</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-danger">1</div>
                                    <div class="text-sm text-gray-600">ุบุงุฆุจ</div>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white border rounded-lg">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุงุณู</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุชุฎุตุต</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุนูุงุฏุฉ</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุญุงูุฉ</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">ุงูุฅุฌุฑุงุกุงุช</th>
                                    </tr>
                                </thead>
                                <tbody id="doctors-table" class="bg-white divide-y divide-gray-200">
                                    <!-- Doctors will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Clinic Modal -->
    <div id="clinic-modal" class="modal">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">ุฅุถุงูุฉ ุนูุงุฏุฉ</h3>
                <button onclick="closeClinicModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="clinic-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ุงุณู ุงูุนูุงุฏุฉ</label>
                    <input type="text" id="clinic-name" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ุฑูู ุงูุนูุงุฏุฉ</label>
                    <input type="number" id="clinic-number" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ุฑูู ุงูุดุงุดุฉ</label>
                    <select id="clinic-screen" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                        <option value="">ุงุฎุชุฑ ุงูุดุงุดุฉ</option>
                        <option value="1">ุงูุดุงุดุฉ 1</option>
                        <option value="2">ุงูุดุงุดุฉ 2</option>
                        <option value="3">ุงูุดุงุดุฉ 3</option>
                        <option value="4">ุงูุดุงุดุฉ 4</option>
                    </select>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ูููุฉ ุงูุณุฑ</label>
                    <input type="password" id="clinic-password" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-primary" required>
                </div>
                <div class="flex space-x-3 space-x-reverse">
                    <button type="submit" class="flex-1 bg-success text-white py-2 rounded-lg hover:bg-green-600 transition-colors">
                        <i class="fas fa-save ml-2"></i>ุญูุธ
                    </button>
                    <button type="button" onclick="closeClinicModal()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors">
                        ุฅูุบุงุก
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample data
        let clinics = [
            { id: 1, name: 'ุนูุงุฏุฉ ุทุจ ุงูุฃุณุฑุฉ', number: 1, screen: 1, status: 'active', password: '1234' },
            { id: 2, name: 'ุนูุงุฏุฉ ุงูุจุงุทููุฉ', number: 2, screen: 1, status: 'active', password: '1234' },
            { id: 3, name: 'ุนูุงุฏุฉ ุงูุฃุทูุงู', number: 3, screen: 2, status: 'paused', password: '1234' },
            { id: 4, name: 'ุนูุงุฏุฉ ุงููุณุงุก', number: 4, screen: 2, status: 'active', password: '1234' }
        ];

        let doctors = [
            { id: 1, name: 'ุฏ. ุฃุญูุฏ ูุญูุฏ', specialty: 'ุทุจ ุฃุณุฑุฉ', clinic: 'ุนูุงุฏุฉ ุทุจ ุงูุฃุณุฑุฉ', status: 'ุญุงุถุฑ' },
            { id: 2, name: 'ุฏ. ูุงุทูุฉ ุนูู', specialty: 'ุจุงุทููุฉ', clinic: 'ุนูุงุฏุฉ ุงูุจุงุทููุฉ', status: 'ุญุงุถุฑ' },
            { id: 3, name: 'ุฏ. ุฎุงูุฏ ุญุณู', specialty: 'ุฃุทูุงู', clinic: 'ุนูุงุฏุฉ ุงูุฃุทูุงู', status: 'ูู ุฅุฌุงุฒุฉ' },
            { id: 4, name: 'ุฏ. ูููู ุฃุญูุฏ', specialty: 'ูุณุงุก', clinic: 'ุนูุงุฏุฉ ุงููุณุงุก', status: 'ุญุงุถุฑ' }
        ];

        // Authentication
        function checkAuth() {
            const loggedIn = localStorage.getItem('adminLoggedIn');
            if (loggedIn) {
                document.getElementById('login-modal').classList.remove('show');
                document.getElementById('main-content').classList.remove('hidden');
            } else {
                document.getElementById('login-modal').classList.add('show');
            }
        }

        function logout() {
            localStorage.removeItem('adminLoggedIn');
            location.reload();
        }

        // Login form
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // Simple authentication (in real app, this would be server-side)
            if (email === 'admin@clinic.com' && password === 'admin123') {
                localStorage.setItem('adminLoggedIn', 'true');
                checkAuth();
            } else {
                alert('ุจูุงูุงุช ุงูุฏุฎูู ุบูุฑ ุตุญูุญุฉ');
            }
        });

        // Tab management
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Remove active state from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('border-primary', 'text-primary');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Activate selected tab button
            event.target.classList.remove('border-transparent', 'text-gray-500');
            event.target.classList.add('border-primary', 'text-primary');
        }

        // Clinic management
        function populateClinicsTable() {
            const tbody = document.getElementById('clinics-table');
            tbody.innerHTML = '';
            
            clinics.forEach(clinic => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${clinic.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${clinic.number}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">ุงูุดุงุดุฉ ${clinic.screen}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${clinic.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            ${clinic.status === 'active' ? 'ูุดุทุฉ' : 'ูุชูููุฉ'}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="editClinic(${clinic.id})" class="text-primary hover:text-secondary ml-3">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="deleteClinic(${clinic.id})" class="text-danger hover:text-red-600">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function populateDoctorsTable() {
            const tbody = document.getElementById('doctors-table');
            tbody.innerHTML = '';
            
            doctors.forEach(doctor => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${doctor.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${doctor.specialty}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${doctor.clinic}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${doctor.status === 'ุญุงุถุฑ' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}">
                            ${doctor.status}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="viewDoctorDetails(${doctor.id})" class="text-primary hover:text-secondary">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Modal functions
        function openClinicModal() {
            document.getElementById('clinic-modal').classList.add('show');
        }

        function closeClinicModal() {
            document.getElementById('clinic-modal').classList.remove('show');
            document.getElementById('clinic-form').reset();
        }

        // Form submissions
        document.getElementById('clinic-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('clinic-name').value;
            const number = document.getElementById('clinic-number').value;
            const screen = document.getElementById('clinic-screen').value;
            const password = document.getElementById('clinic-password').value;
            
            const newClinic = {
                id: clinics.length + 1,
                name,
                number: parseInt(number),
                screen: parseInt(screen),
                status: 'active',
                password
            };
            
            clinics.push(newClinic);
            populateClinicsTable();
            closeClinicModal();
            alert('ุชู ุฅุถุงูุฉ ุงูุนูุงุฏุฉ ุจูุฌุงุญ');
        });

        // Settings functions
        function saveGeneralSettings() {
            const settings = {
                centerName: document.getElementById('center-name').value,
                screenCount: document.getElementById('screen-count').value,
                tickerContent: document.getElementById('ticker-content').value,
                tickerSpeed: document.getElementById('ticker-speed').value,
                alertDuration: document.getElementById('alert-duration').value,
                speechSpeed: document.getElementById('speech-speed').value
            };
            
            localStorage.setItem('generalSettings', JSON.stringify(settings));
            alert('ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ');
        }

        function loadGeneralSettings() {
            const settings = JSON.parse(localStorage.getItem('generalSettings'));
            if (settings) {
                document.getElementById('center-name').value = settings.centerName || '';
                document.getElementById('screen-count').value = settings.screenCount || '4';
                document.getElementById('ticker-content').value = settings.tickerContent || '';
                document.getElementById('ticker-speed').value = settings.tickerSpeed || 'normal';
                document.getElementById('alert-duration').value = settings.alertDuration || '5';
                document.getElementById('speech-speed').value = settings.speechSpeed || 'normal';
            }
        }

        // Utility functions
        function deleteClinic(id) {
            if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐู ุงูุนูุงุฏุฉุ')) {
                clinics = clinics.filter(clinic => clinic.id !== id);
                populateClinicsTable();
            }
        }

        function editClinic(id) {
            alert('ุณูุชู ูุชุญ ูุงูุฐุฉ ุงูุชุนุฏูู ูุฑูุจุงู');
        }

        function viewDoctorDetails(id) {
            alert('ุณูุชู ุนุฑุถ ุชูุงุตูู ุงูุทุจูุจ ูุฑูุจุงู');
        }

        function importDoctorsData() {
            alert('ุณูุชู ูุชุญ ูุงูุฐุฉ ุงูุงุณุชูุฑุงุฏ ูุฑูุจุงู');
        }

        function exportDoctorsData() {
            alert('ุณูุชู ุชุตุฏูุฑ ุงูุจูุงูุงุช ูุฑูุจุงู');
        }

        function addTextAlert() {
            const message = prompt('ุฃุฏุฎู ูุต ุงูุชูุจูู:');
            if (message) {
                alert(`ุชู ุฅุถุงูุฉ ุงูุชูุจูู: ${message}`);
            }
        }

        function uploadAudioFile() {
            alert('ุณูุชู ูุชุญ ูุงูุฐุฉ ุฑูุน ุงูููู ูุฑูุจุงู');
        }

        function recordAudio() {
            alert('ุณูุชู ูุชุญ ูุงูุฐุฉ ุงูุชุณุฌูู ุงูุตูุชู ูุฑูุจุงู');
        }

        // Initialize
        checkAuth();
        loadGeneralSettings();
        populateClinicsTable();
        populateDoctorsTable();
    </script>
</body>
</html>
