<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø¨Ø§Ø¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 'arabic': ['Cairo', 'sans-serif'] },
                    colors: {
                        'primary': '#1e40af',
                        'secondary': '#3b82f6',
                        'success': '#10b981',
                        'warning': '#f59e0b',
                        'danger': '#ef4444'
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Cairo', sans-serif; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal.show { display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body class="bg-gray-50 font-arabic">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <h1 class="text-2xl font-bold text-primary">ğŸ¥ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø¨Ø§Ø¨</h1>
                <div class="flex space-x-4 space-x-reverse">
                    <a href="index.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    <a href="display.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md">Ø§Ù„Ø¹Ø±Ø¶</a>
                    <a href="control.html" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md">Ø§Ù„ØªØ­ÙƒÙ…</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="login-modal" class="modal show">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
                <p class="text-gray-600">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</p>
            </div>
            <form id="login-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="email" value="admin@clinic.com" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="password" value="admin123" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <button type="submit" class="w-full bg-primary text-white py-2 rounded-lg hover:bg-secondary">
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
            </form>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="hidden">
        <div class="bg-white shadow">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-6">
                    <h1 class="text-3xl font-bold text-gray-900">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h1>
                    <button onclick="logout()" class="bg-danger text-white px-4 py-2 rounded-lg hover:bg-red-600">
                        <i class="fas fa-sign-out-alt ml-2"></i>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                    </button>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6">
            <div class="bg-white rounded-lg shadow">
                <div class="border-b border-gray-200">
                    <nav class="flex space-x-8 space-x-reverse px-6">
                        <button onclick="showTab('general')" class="tab-btn py-4 border-b-2 border-primary text-primary font-medium">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</button>
                        <button onclick="showTab('clinics')" class="tab-btn py-4 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª</button>
                        <button onclick="showTab('doctors')" class="tab-btn py-4 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡</button>
                    </nav>
                </div>

                <div class="p-6">
                    <!-- General Settings -->
                    <div id="general-tab" class="tab-content">
                        <h2 class="text-2xl font-bold mb-6">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙƒØ²</label>
                                <input type="text" id="center-name" class="w-full px-3 py-2 border rounded-lg">
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø®Ø¨Ø§Ø±ÙŠ</label>
                                <textarea id="ticker-content" rows="3" class="w-full px-3 py-2 border rounded-lg"></textarea>
                            </div>
                        </div>
                        <button onclick="saveGeneralSettings()" class="mt-6 bg-primary text-white px-6 py-2 rounded-lg hover:bg-secondary">
                            <i class="fas fa-save ml-2"></i>Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                        </button>
                    </div>

                    <!-- Clinics Management -->
                    <div id="clinics-tab" class="tab-content hidden">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª</h2>
                            <button onclick="openClinicModal()" class="bg-success text-white px-4 py-2 rounded-lg hover:bg-green-600">
                                <i class="fas fa-plus ml-2"></i>Ø¥Ø¶Ø§ÙØ© Ø¹ÙŠØ§Ø¯Ø©
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white border rounded-lg">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø§Ø³Ù…</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø±Ù‚Ù…</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø´Ø§Ø´Ø©</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                    </tr>
                                </thead>
                                <tbody id="clinics-table" class="divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Doctors Management -->
                    <div id="doctors-tab" class="tab-content hidden">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡</h2>
                            <button onclick="openDoctorModal()" class="bg-success text-white px-4 py-2 rounded-lg hover:bg-green-600">
                                <i class="fas fa-plus ml-2"></i>Ø¥Ø¶Ø§ÙØ© Ø·Ø¨ÙŠØ¨
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white border rounded-lg">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø§Ø³Ù…</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„ØªØ®ØµØµ</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                    </tr>
                                </thead>
                                <tbody id="doctors-table" class="divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Clinic Modal -->
    <div id="clinic-modal" class="modal">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Ø¥Ø¶Ø§ÙØ© Ø¹ÙŠØ§Ø¯Ø©</h3>
                <button onclick="closeClinicModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="clinic-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ø³Ù… Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©</label>
                    <input type="text" id="clinic-name" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø±Ù‚Ù… Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©</label>
                    <input type="number" id="clinic-number" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø±Ù‚Ù… Ø§Ù„Ø´Ø§Ø´Ø©</label>
                    <select id="clinic-screen" class="w-full px-3 py-2 border rounded-lg" required>
                        <option value="1">Ø§Ù„Ø´Ø§Ø´Ø© 1</option>
                        <option value="2">Ø§Ù„Ø´Ø§Ø´Ø© 2</option>
                        <option value="3">Ø§Ù„Ø´Ø§Ø´Ø© 3</option>
                        <option value="4">Ø§Ù„Ø´Ø§Ø´Ø© 4</option>
                    </select>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</label>
                    <input type="password" id="clinic-password" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="flex space-x-3 space-x-reverse">
                    <button type="submit" class="flex-1 bg-success text-white py-2 rounded-lg hover:bg-green-600">Ø­ÙØ¸</button>
                    <button type="button" onclick="closeClinicModal()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Doctor Modal -->
    <div id="doctor-modal" class="modal">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Ø¥Ø¶Ø§ÙØ© Ø·Ø¨ÙŠØ¨</h3>
                <button onclick="closeDoctorModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="doctor-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ù„Ø§Ø³Ù…</label>
                    <input type="text" id="doctor-name" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ù„ØªØ®ØµØµ</label>
                    <input type="text" id="doctor-specialty" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©</label>
                    <select id="doctor-clinic" class="w-full px-3 py-2 border rounded-lg" required></select>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="doctor-email" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="tel" id="doctor-phone" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="doctor-password" class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <div class="flex space-x-3 space-x-reverse">
                    <button type="submit" class="flex-1 bg-success text-white py-2 rounded-lg hover:bg-green-600">Ø­ÙØ¸</button>
                    <button type="button" onclick="closeDoctorModal()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <script src="supabaseClient.js"></script>
    <script>
        function checkSupabaseReady() {
            return new Promise((resolve) => {
                if (window.supabaseHelpers) resolve();
                else setTimeout(() => checkSupabaseReady().then(resolve), 100);
            });
        }

        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (email === 'admin@clinic.com' && password === 'admin123') {
                localStorage.setItem('adminLoggedIn', 'true');
                checkAuth();
            } else {
                alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        });

        async function checkAuth() {
            const loggedIn = localStorage.getItem('adminLoggedIn');
            if (loggedIn) {
                document.getElementById('login-modal').classList.remove('show');
                document.getElementById('main-content').classList.remove('hidden');
                await checkSupabaseReady();
                await loadAllData();
            }
        }

        function logout() {
            localStorage.removeItem('adminLoggedIn');
            location.reload();
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('border-primary', 'text-primary');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            event.target.classList.remove('border-transparent', 'text-gray-500');
            event.target.classList.add('border-primary', 'text-primary');
        }

        async function loadAllData() {
            await loadSettings();
            await loadClinics();
            await loadDoctors();
        }

        async function loadSettings() {
            const settings = await window.supabaseHelpers.getSettings();
            if (settings) {
                document.getElementById('center-name').value = settings.center_name || '';
                document.getElementById('ticker-content').value = settings.ticker_content || '';
            }
        }

        async function saveGeneralSettings() {
            const settings = {
                center_name: document.getElementById('center-name').value,
                ticker_content: document.getElementById('ticker-content').value
            };
            
            const success = await window.supabaseHelpers.updateSettings(settings);
            if (success) {
                alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸');
            }
        }

        async function loadClinics() {
            const clinics = await window.supabaseHelpers.getClinics();
            const tbody = document.getElementById('clinics-table');
            tbody.innerHTML = '';
            
            clinics.forEach(clinic => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 text-sm font-medium text-gray-900">${clinic.name}</td>
                    <td class="px-6 py-4 text-sm text-gray-500">${clinic.number}</td>
                    <td class="px-6 py-4 text-sm text-gray-500">Ø§Ù„Ø´Ø§Ø´Ø© ${clinic.screen}</td>
                    <td class="px-6 py-4">
                        <span class="px-2 text-xs rounded-full ${clinic.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            ${clinic.status === 'active' ? 'Ù†Ø´Ø·Ø©' : 'Ù…ØªÙˆÙ‚ÙØ©'}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-sm">
                        <button onclick="deleteClinic(${clinic.id})" class="text-danger hover:text-red-600">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        async function loadDoctors() {
            const doctors = await window.supabaseHelpers.getDoctors();
            const tbody = document.getElementById('doctors-table');
            tbody.innerHTML = '';
            
            doctors.forEach(doctor => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 text-sm font-medium text-gray-900">${doctor.name}</td>
                    <td class="px-6 py-4 text-sm text-gray-500">${doctor.specialty}</td>
                    <td class="px-6 py-4 text-sm text-gray-500">${doctor.clinic}</td>
                    <td class="px-6 py-4">
                        <span class="px-2 text-xs rounded-full ${doctor.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}">
                            ${doctor.status === 'active' ? 'Ù†Ø´Ø·' : 'ÙÙŠ Ø¥Ø¬Ø§Ø²Ø©'}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-sm">
                        <button onclick="deleteDoctor(${doctor.id})" class="text-danger hover:text-red-600">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        async function openClinicModal() {
            document.getElementById('clinic-modal').classList.add('show');
        }

        function closeClinicModal() {
            document.getElementById('clinic-modal').classList.remove('show');
            document.getElementById('clinic-form').reset();
        }

        document.getElementById('clinic-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const clinicData = {
                name: document.getElementById('clinic-name').value,
                number: parseInt(document.getElementById('clinic-number').value),
                screen: parseInt(document.getElementById('clinic-screen').value),
                password: document.getElementById('clinic-password').value
            };
            
            const result = await window.supabaseHelpers.addClinic(clinicData);
            if (result) {
                alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹ÙŠØ§Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­');
                closeClinicModal();
                await loadClinics();
            } else {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
            }
        });

        async function deleteClinic(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©ØŸ')) {
                const success = await window.supabaseHelpers.deleteClinic(id);
                if (success) {
                    alert('ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­');
                    await loadClinics();
                }
            }
        }

        async function openDoctorModal() {
            const clinics = await window.supabaseHelpers.getClinics();
            const select = document.getElementById('doctor-clinic');
            select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©</option>';
            clinics.forEach(clinic => {
                const option = document.createElement('option');
                option.value = clinic.id;
                option.textContent = clinic.name;
                select.appendChild(option);
            });
            document.getElementById('doctor-modal').classList.add('show');
        }

        function closeDoctorModal() {
            document.getElementById('doctor-modal').classList.remove('show');
            document.getElementById('doctor-form').reset();
        }

        document.getElementById('doctor-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const doctorData = {
                name: document.getElementById('doctor-name').value,
                specialty: document.getElementById('doctor-specialty').value,
                clinic_id: parseInt(document.getElementById('doctor-clinic').value),
                email: document.getElementById('doctor-email').value,
                phone: document.getElementById('doctor-phone').value,
                password: document.getElementById('doctor-password').value,
                status: 'active'
            };
            
            const result = await window.supabaseHelpers.addDoctor(doctorData);
            if (result) {
                alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø¨Ù†Ø¬Ø§Ø­');
                closeDoctorModal();
                await loadDoctors();
            } else {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
            }
        });

        async function deleteDoctor(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ø¨ÙŠØ¨ØŸ')) {
                // Add delete function to supabaseHelpers if needed
                alert('Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹');
            }
        }

        checkAuth();
    </script>
</body>
</html>
